<!-- 商品表单 Modal 片段 —— 新增/编辑复用 -->
<div class="modal-header">
  <h2>{{ title|default:"新增商品" }}</h2>
  <button class="modal-close" onclick="closeModal()" type="button">&times;</button>
</div>
<div class="modal-body">
  <form method="post"
        action="{% if is_edit %}{% url 'goods_edit' object.pk %}{% else %}{% url 'goods_add' %}{% endif %}"
        onsubmit="submitModalForm(event); return false;">
    {% csrf_token %}
    {% for field in form %}
      <div class="form-group {% if field.field.required %}required{% endif %}">
        <label for="{{ field.id_for_label }}">{{ field.label }}</label>
        {{ field }}
        {% if field.errors %}<div class="form-error">{{ field.errors.0 }}</div>{% endif %}
        {% if field.help_text %}<div class="form-help">{{ field.help_text }}</div>{% endif %}
      </div>
    {% endfor %}
    <div class="modal-btn-group">
      <button type="button" class="btn btn-secondary" onclick="closeModal()">取消</button>
      <button type="submit" class="btn btn-primary">保存</button>
    </div>
  </form>
</div>
